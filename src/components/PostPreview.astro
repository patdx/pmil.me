---
import clsx from 'clsx';
import { Image } from '@astrojs/image/components';

type Props = {
  title: string;
  coverImage?: string | undefined;
  date: string;
  excerpt: string;
  author: string;
  href: string;
};

const { coverImage, title, excerpt, href } = Astro.props;
---

<a
  href={href}
  class={clsx(
    'aspect-w-1 aspect-h-1 rounded-md',
    'shadow-lg hover:shadow-xl group',
    'bg-gray-100 transition'
  )}
>
  {
    coverImage ? (
      <Image
        src={coverImage}
        alt={`Cover Image for ${title}`}
        quality={100}
        fill
        sizes="100vw"
        style={{
          objectFit: 'cover',
        }}
        class="rounded-md transition group-hover:blur-sm"
      />
    ) : undefined
  }
  <div class="flex items-end">
    <div
      class="flex-1 rounded-b-md border border-gray-200 bg-white px-2 py-4 text-3xl text-black opacity-90 shadow backdrop-blur transition group-hover:scale-105 group-hover:border-gray-300 group-hover:opacity-100 sm:text-lg"
    >
      <h3 class="font-bold">{title}</h3>
      <p>{excerpt}</p>
    </div>
  </div>
</a>
